<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <style>
        /* Style for the fixed header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #333;
            color: #fff;
            padding: 10px;
        }

        /* Style for the fixed footer */
        .footer {
   
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: #333;
    color: #fff;
    padding: 0px;
    box-sizing: border-box;
        }

        /* Style for the scrollable content area */
        .content {
             margin-top: 60px; 
    margin-bottom: 60px; 
    padding: 0px;
    overflow-y: scroll; /* Enable vertical scrolling */
    height: calc(150vh - 140px); /* Subtract footer height from viewport height */
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
}
        }

    </style>
    <title>Registration Form</title>
    <!-- Load external CSS styles -->
    <link href="./extracredit.css" rel="stylesheet">
        <!-- Other meta tags and styles -->
    <script src="https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY"></script>
    <script>
        // Function to execute reCAPTCHA and handle the token
        function executeRecaptcha() {
            grecaptcha.ready(function () {
                grecaptcha.execute('6Le66tApAAAAAEU6s97ELd4AfGJb_IAsR-BsMtgo', { action: 'submit' }).then(function (token) {
                    // Token handling code (e.g., sending token to server for verification)
                    console.log(token); // Example: Log the token to the console
                });
            });
        }
    </script>
</head>
<body>
     <!-- Fixed header -->
    <div class="header">
        <h1>Viral Estate</h1>
        <h1 id="welcomeMessage">Welcome, New User!</h1>
    </div>
    <div class="content">
        <!-- Disclaimer for clearing localStorage -->
        <div id="clearLocalStorageMsg">
            <p>If you are not Brandon or a new user, click <a href="#" onclick="clearLocalStorage()">here</a> to start fresh.</p>
        </div>
    <!-- Company Banner and Logo -->
    <div class="banner">
        <h1>Viral Estate</h1>
        <p id="date"></p>
        <img src="./viral_estate.png" alt="Viral Estate Logo" class="center">
    <p>One of Our Current Listings!.</p>
    <iframe src="https://www.har.com/homedetail/12811-golden-tee-ln-houston-tx-77099/3385663" width="800" height="600" frameborder="0" scrolling="auto"></iframe>
</body>
    </div>
    <!-- Registration form -->
    <form id="registrationForm" action="extracredit-thankyou.html" method="post" onsubmit="return validateForm()">
        <!-- Block/area 1: First Name, Middle Initial, Last Name, Dates -->
        <fieldset>
            <legend>Personal Information</legend>
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" maxlength="30" pattern="[A-Za-z'-]{1,30}" required><br>
            <label for="middleInitial">Middle Initial:</label>
            <input type="text" id="middleInitial" name="middleInitial" maxlength="1" pattern="[A-Za-z]" required><br>
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" maxlength="30" pattern="[A-Za-z0-9'-]{1,30}" required><br>
            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" max="2004-03-17" required><br>
        </fieldset>

        <!-- Block/area 2: Email Address, Phone Number -->
        <fieldset>
            <legend>Contact Information</legend>
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" maxlength="50" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" required><br>
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required><br>
        </fieldset>

        <!-- Block/area 3: Address -->
        <fieldset>
            <legend>Address</legend>
            <label for="addressLine1">Address Line 1:</label>
            <input type="text" id="addressLine1" name="addressLine1" maxlength="30" required><br>
            <label for="addressLine2">Address Line 2:</label>
            <input type="text" id="addressLine2" name="addressLine2" maxlength="30"><br>
            <label for="city">City:</label>
            <input type="text" id="city" name="city" maxlength="30" required><br>
            <td><label for="state">State:</label></td>
                <td colspan="3">
                    <select id="state" name="state">
                        <option value="AL">Alabama</option>
                        <option value="AK">Alaska</option>
                        <option value="AZ">Arizona</option>
                        <option value="AR">Arkansas</option>
                        <option value="CA">California</option>
                        <option value="CO">Colorado</option>
                        <option value="CT">Connecticut</option>
                        <option value="DE">Delaware</option>
                        <option value="DC">District Of Columbia</option>
                        <option value="FL">Florida</option>
                        <option value="GA">Georgia</option>
                        <option value="HI">Hawaii</option>
                        <option value="ID">Idaho</option>
                        <option value="IL">Illinois</option>
                        <option value="IN">Indiana</option>
                        <option value="IA">Iowa</option>
                        <option value="KS">Kansas</option>
                        <option value="KY">Kentucky</option>
                        <option value="LA">Louisiana</option>
                        <option value="ME">Maine</option>
                        <option value="MD">Maryland</option>
                        <option value="MA">Massachusetts</option>
                        <option value="MI">Michigan</option>
                        <option value="MN">Minnesota</option>
                        <option value="MS">Mississippi</option>
                        <option value="MO">Missouri</option>
                        <option value="MT">Montana</option>
                        <option value="NE">Nebraska</option>
                        <option value="NV">Nevada</option>
                        <option value="NH">New Hampshire</option>
                        <option value="NJ">New Jersey</option>
                        <option value="NM">New Mexico</option>
                        <option value="NY">New York</option>
                        <option value="NC">North Carolina</option>
                        <option value="ND">North Dakota</option>
                        <option value="OH">Ohio</option>
                        <option value="OK">Oklahoma</option>
                        <option value="OR">Oregon</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="RI">Rhode Island</option>
                        <option value="SC">South Carolina</option>
                        <option value="SD">South Dakota</option>
                        <option value="TN">Tennessee</option>
                        <option value="TX">Texas</option>
                        <option value="UT">Utah</option>
                        <option value="VT">Vermont</option>
                        <option value="VA">Virginia</option>
                        <option value="WA">Washington</option>
                        <option value="WV">West Virginia</option>
                        <option value="WI">Wisconsin</option>
                        <option value="WY">Wyoming</option>
                        <option value="PR">Puerto Rico</option>
                    </select>
                </td>
            </tr>
            <tr>
                
                <!-- Add options for all 50 states, DC, and PR -->
            </select><br>
            <label for="zipCode">Zip Code:</label>
            <input type="text" id="zipCode" name="zipCode" pattern="\d{5}(-\d{4})?" required><br>
        </fieldset>

        <!-- Block/area 4: Choices -->
        <fieldset>
            <legend>Choices</legend>
            <!-- Checkboxes -->
            <label>Check all that apply:</label><br>
            <input type="checkbox" id="chickenPox" name="diseases" value="chickenPox">
            <label for="chickenPox">Chicken Pox</label><br>

            <!-- Radio buttons -->
            <label>Own or Rent:</label><br>
            <input type="radio" id="own" name="ownRent" value="own">
            <label for="own">Own</label><br>
            <input type="radio" id="rent" name="ownRent" value="rent">
            <label for="rent">Rent</label><br>


            <!-- Slider -->
             <label for="desiredPriceRange">Desired Price Range:</label>
            <input type="range" id="desiredPriceRange" name="desiredPriceRange" min="20000" max="500000" step="1000" value="20000" oninput="updatePriceRange(this.value)">
            <output for="desiredPriceRange" id="priceOutput">$20,000</output><br>
        </fieldset>

        <!-- Additional Fields -->
        <label for="userId">Desired User ID:</label>
        <input type="text" id="userId" name="userId" maxlength="30" pattern="[A-Za-z][A-Za-z0-9_-]{4,29}" required><br>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" minlength="8" maxlength="30" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#%^&*()-_+=\\/><.,`~])[A-Za-z\d!@#%^&*()-_+=\\/><.,`~]{8,30}$" required><br>
        <label for="reenterPassword">Re-enter Password:</label>
        <input type="password" id="reenterPassword" name="reenterPassword" minlength="8" maxlength="30" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#%^&*()-_+=\\/><.,`~])[A-Za-z\d!@#%^&*()-_+=\\/><.,`~]{8,30}$" required><br>
        <label for="rememberMe">Remember Me:</label>
        <input type="checkbox" id="rememberMe" name="rememberMe">
        <!-- Continue where you left off checkbox and button -->
            <label for="continueForm">Continue where you left off?</label>
            <input type="checkbox" id="continueForm" name="continueForm">
            <button type="button" onclick="prefillForm()">Continue</button>
         <!-- reCAPTCHA -->
    <div class="g-recaptcha" data-sitekey="YOUR_SITE_KEY" data-callback="executeRecaptcha"></div>
        <!-- Submit and Reset Buttons -->
        <button type="reset">Clear and Start Over</button>
        <button type="submit">Submit</button>
    </form>
<!-- Fixed footer -->
    <div class="footer">
        <h3>Viral Estate</h3>
    </div>
   <!-- JavaScript for dynamic date update, form validation, and remembering first name -->
    <script>
    function clearLocalStorage() {
            localStorage.clear();
            document.getElementById('clearLocalStorageMsg').innerHTML = '<p>Local storage cleared. Please refresh the page.</p>';
        }    
        // Function to get today's date in the format "Monday, May 3, 2024"
        function getFormattedDate() {
            var today = new Date();
            var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return today.toLocaleDateString('en-US', options);
        }
// Function to check the Remember Me checkbox state and handle the cookie
        function handleRememberMe() {
            var rememberMeCheckbox = document.getElementById('rememberMe');
            var firstNameInput = document.getElementById('firstName');
            var firstName = firstNameInput.value.trim();

            if (rememberMeCheckbox.checked) {
                // Save the first name to localStorage
                localStorage.setItem('firstName', firstName);
            } else {
                // Expire the cookie and delete local data
                localStorage.removeItem('firstName');
            }
        }
        // Function to update the welcome message and prefill first name from localStorage
        function updateWelcomeMessage() {
            var firstNameInput = document.getElementById('firstName');
            var savedFirstName = localStorage.getItem('firstName');

            if (savedFirstName) {
                firstNameInput.value = savedFirstName;
                document.getElementById('welcomeMessage').textContent = 'Welcome back, ' + savedFirstName + '!';
            } else {
                document.getElementById('welcomeMessage').textContent = 'Welcome, Guest!';
            }
        }
        // Update the Remember Me checkbox on page load
        window.onload = function () {
            var rememberMeCheckbox = document.getElementById('rememberMe');
            rememberMeCheckbox.addEventListener('change', handleRememberMe);
            updateWelcomeMessage();
        };

        // Update the date and welcome message on page load
        window.onload = function () {
            document.getElementById('date').textContent = 'Date: ' + getFormattedDate();
            updateWelcomeMessage();
        };
        // Function to handle the 'Continue' button click
function prefillForm() {
    var continueFormCheckbox = document.getElementById('continueForm');
    if (continueFormCheckbox.checked) {
        // Prefill the form from localStorage
        populateFormFromLocalStorage();
    } else {
        // Clear localStorage and start fresh
        localStorage.clear();
    }
}

// Function to populate the form fields from localStorage
function populateFormFromLocalStorage() {
    var formFields = ['firstName', 'middleInitial', 'lastName', 'dob', 'email', 'phone', 'addressLine1', 'addressLine2', 'city', 'state', 'zipCode', 'userId', 'password', 'reenterPassword'];
    formFields.forEach(function(field) {
        var value = localStorage.getItem(field);
        if (value) {
            document.getElementById(field).value = value;
        }
    });
}

// Function to save form data to localStorage
function saveFormDataToLocalStorage() {
    var formFields = ['firstName', 'middleInitial', 'lastName', 'dob', 'email', 'phone', 'addressLine1', 'addressLine2', 'city', 'state', 'zipCode', 'userId', 'password', 'reenterPassword'];
    formFields.forEach(function(field) {
        var value = document.getElementById(field).value;
        localStorage.setItem(field, value);
    });
}

// Update the Remember Me checkbox and handle localStorage
function handleRememberMe() {
    var rememberMeCheckbox = document.getElementById('rememberMe');
    var firstNameInput = document.getElementById('firstName');
    var firstName = firstNameInput.value.trim();

    if (rememberMeCheckbox.checked) {
        // Save the first name to localStorage
        localStorage.setItem('firstName', firstName);
    } else {
        // Expire the cookie and delete local data
        localStorage.removeItem('firstName');
    }
}

// Update the date and welcome message on page load
window.onload = function () {
    document.getElementById('date').textContent = 'Date: ' + getFormattedDate();
    updateWelcomeMessage();
    populateFormFromLocalStorage(); // Prefill the form on page load if data exists in localStorage
};


        // Function to validate the form and save first name to localStorage
        function validateForm() {
            var firstNameInput = document.getElementById('firstName');
            var firstName = firstNameInput.value.trim();

            // Validate other fields as needed

            // Save the first name to localStorage
            localStorage.setItem('firstName', firstName);

            // Optionally, redirect to thank you page
            // window.location.href = 'extracredit-thankyou.html';

            return true; // Return true to submit the form

        // Function to display the review of entries
        function displayReview() {
            // Hide the form and show the review section
            document.querySelector('.content').innerHTML = `
                <div id="reviewEntries">
                    <h2>Check your entries...</h2>
                    <p>Name: ${localStorage.getItem('firstName')} ${localStorage.getItem('middleInitial')} ${localStorage.getItem('lastName')}</p>
                    <p>Address: ${localStorage.getItem('addressLine1')} ${localStorage.getItem('addressLine2')}, ${localStorage.getItem('city')} ${localStorage.getItem('state')} ${localStorage.getItem('zipCode')}</p>
                    <p>Phone: ${localStorage.getItem('phone')}</p>
                    <p>Email: ${localStorage.getItem('email')}</p>
                    <p>User ID: ${localStorage.getItem('userId')}</p>
                </div>
                <div class="buttons">
                    <button type="button" onclick="submitForm()">Submit</button>
                    <button type="button" onclick="goBack()">Go Back</button>
                </div>
            `;
        }

        // Function to submit the form (redirect to Thank You page)
        function submitForm() {
            // Perform form validation here if needed

            // Redirect to Thank You page
            window.location.href = 'extracredit-thankyou.html';
        }

        // Function to go back to the original form
        function goBack() {
            // Clear localStorage and reload the page to reset the form
            localStorage.clear();
            location.reload();
        }
        }
    </script>
    
</body>
</html>
            
